data_table = """
G1 X117.168 Y91.369 E0.00206
G1 X117.250 Y91.127 E0.00206
G1 X117.363 Y90.898 E0.00206
G1 X117.505 Y90.686 E0.00206
G1 X117.673 Y90.494 E0.00206
G1 X117.865 Y90.326 E0.00206
G1 X118.077 Y90.184 E0.00206
G1 X118.306 Y90.072 E0.00206
G1 X118.548 Y89.990 E0.00206
G1 X118.798 Y89.940 E0.00206
G1 X119.036 Y89.924 E0.00194
G1 X119.306 Y89.940 E0.00219
G1 X119.557 Y89.990 E0.00207
G1 X119.799 Y90.072 E0.00206
G1 X120.028 Y90.184 E0.00206
G1 X120.226 Y90.317 E0.00194
G1 X120.431 Y90.494 E0.00219
G1 X120.600 Y90.686 E0.00207
G1 X120.741 Y90.898 E0.00206
G1 X120.854 Y91.127 E0.00206
G1 X120.936 Y91.369 E0.00206
G1 X120.983 Y91.603 E0.00194
G1 X121.003 Y91.873 E0.00219
G1 X120.986 Y92.128 E0.00207
G1 X120.936 Y92.378 E0.00206
G1 X120.854 Y92.620 E0.00206
G1 X120.741 Y92.849 E0.00206
G1 X120.600 Y93.061 E0.00206
G1 X120.432 Y93.253 E0.00206
G1 X120.240 Y93.421 E0.00206
G1 X120.028 Y93.563 E0.00206
G1 X119.799 Y93.676 E0.00206
G1 X119.557 Y93.758 E0.00206
G1 X119.307 Y93.807 E0.00206
G1 X119.052 Y93.824 E0.00206
G1 X118.798 Y93.807 E0.00206
G1 X118.548 Y93.758 E0.00206
G1 X118.306 Y93.676 E0.00206
G1 X118.077 Y93.563 E0.00206
G1 X117.878 Y93.430 E0.00194
G1 X117.674 Y93.253 E0.00219
G1 X117.505 Y93.061 E0.00207
G1 X117.372 Y92.862 E0.00194
G1 X117.251 Y92.621 E0.00219
G1 X117.168 Y92.378 E0.00207
G1 X117.122 Y92.144 E0.00194
G1 X117.102 Y91.874 E0.00219
G1 X117.115 Y91.679 E0.00159
"""
data_table2 = """
G1 X67.620 Y86.829 E0.04230
G1 X67.476 Y86.193 E0.02047
G1 X67.338 Y85.767 E0.01403
G1 X67.170 Y85.352 E0.01403
G1 X66.974 Y84.950 E0.01403
G1 X66.751 Y84.563 E0.01403
G1 X66.500 Y84.192 E0.01403
G1 X66.225 Y83.839 E0.01403
G1 X65.925 Y83.507 E0.01403
G1 X65.604 Y83.196 E0.01403
G1 X65.261 Y82.908 E0.01403
G1 X64.899 Y82.645 E0.01403
G1 X64.519 Y82.408 E0.01403
G1 X64.124 Y82.198 E0.01403
G1 X63.716 Y82.016 E0.01403
G1 X63.295 Y81.863 E0.01403
G1 X62.865 Y81.740 E0.01403
G1 X62.427 Y81.647 E0.01403
G1 X61.984 Y81.584 E0.01403
G1 X61.538 Y81.553 E0.01403
G1 X61.091 Y81.553 E0.01403
G1 X60.644 Y81.584 E0.01403
G1 X60.201 Y81.647 E0.01403
G1 X59.764 Y81.740 E0.01403
G1 X59.333 Y81.863 E0.01403
G1 X58.913 Y82.016 E0.01403
G1 X58.504 Y82.198 E0.01403
G1 X58.109 Y82.408 E0.01403
G1 X57.563 Y82.766 E0.02047
G1 X56.482 Y82.329 E0.03658
G1 X57.741 Y79.213 E0.10538
G1 X85.027 Y74.595 E0.86772
G1 X86.101 Y74.429 E0.03407
G1 X87.176 Y74.292 E0.03398
G1 X88.255 Y74.185 E0.03398
G1 X89.336 Y74.107 E0.03398
G1 X90.418 Y74.059 E0.03396
G1 X91.851 Y74.044 E0.04495
G1 X93.670 Y74.092 E0.05705
G1 X94.750 Y74.163 E0.03394
G1 X95.829 Y74.263 E0.03398
G1 X96.905 Y74.392 E0.03398
G1 X97.977 Y74.551 E0.03398
G1 X99.044 Y74.739 E0.03398
G1 X100.106 Y74.957 E0.03398
G1 X101.162 Y75.203 E0.03398
G1 X102.210 Y75.478 E0.03398
G1 X103.250 Y75.782 E0.03398
G1 X104.282 Y76.114 E0.03398
G1 X105.304 Y76.474 E0.03398
G1 X106.316 Y76.862 E0.03398
G1 X107.317 Y77.278 E0.03398
G1 X108.306 Y77.721 E0.03398
G1 X109.283 Y78.190 E0.03398
G1 X110.246 Y78.687 E0.03398
G1 X111.195 Y79.209 E0.03398
G1 X112.130 Y79.757 E0.03398
G1 X113.050 Y80.331 E0.03398
G1 X113.953 Y80.930 E0.03398
G1 X114.840 Y81.553 E0.03398
G1 X115.709 Y82.200 E0.03398
G1 X116.561 Y82.871 E0.03398
G1 X117.393 Y83.564 E0.03398
G1 X118.206 Y84.281 E0.03398
G1 X119.000 Y85.019 E0.03398
G1 X119.773 Y85.779 E0.03398
G1 X120.524 Y86.559 E0.03398
G1 X121.255 Y87.360 E0.03398
G1 X121.963 Y88.181 E0.03398
G1 X122.645 Y89.017 E0.03383
G1 X122.847 Y89.292 E0.01071
G1 X123.184 Y89.875 E0.02111
G1 X123.320 Y90.183 E0.01056
G1 X123.521 Y90.826 E0.02111
G1 X123.626 Y91.491 E0.02111
G1 X123.633 Y92.164 E0.02111
G1 X122.115 Y103.286 E0.35193
G1 X122.061 Y103.576 E0.00926
G1 X121.983 Y103.851 E0.00896
G1 X121.881 Y104.117 E0.00896
G1 X121.754 Y104.373 E0.00896
G1 X121.603 Y104.616 E0.00896
G1 X121.432 Y104.845 E0.00896
G1 X121.239 Y105.056 E0.00896
G1 X121.028 Y105.249 E0.00896
G1 X120.800 Y105.421 E0.00896
G1 X120.558 Y105.572 E0.00896
G1 X120.302 Y105.699 E0.00896
G1 X120.036 Y105.803 E0.00896
G1 X119.761 Y105.881 E0.00896
G1 X119.480 Y105.933 E0.00896
G1 X119.195 Y105.960 E0.00896
G1 X118.910 Y105.960 E0.00896
G1 X118.625 Y105.933 E0.00896
G1 X118.344 Y105.881 E0.00896
G1 X118.070 Y105.803 E0.00896
G1 X117.803 Y105.699 E0.00896
G1 X117.548 Y105.572 E0.00896
G1 X117.305 Y105.421 E0.00896
G1 X117.077 Y105.249 E0.00896
G1 X116.866 Y105.056 E0.00896
G1 X116.674 Y104.845 E0.00896
G1 X116.502 Y104.617 E0.00896
G1 X116.351 Y104.374 E0.00896
G1 X116.224 Y104.118 E0.00896
G1 X115.171 Y101.002 E0.10312
G1 X114.861 Y100.121 E0.02929
G1 X114.522 Y99.247 E0.02939
G1 X114.156 Y98.384 E0.02939
G1 X113.762 Y97.533 E0.02939
G1 X113.341 Y96.696 E0.02939
G1 X112.894 Y95.872 E0.02939
G1 X112.421 Y95.063 E0.02939
G1 X111.922 Y94.269 E0.02939
G1 X111.399 Y93.491 E0.02939
G1 X110.850 Y92.731 E0.02939
G1 X110.278 Y91.989 E0.02939
G1 X109.682 Y91.265 E0.02939
G1 X109.064 Y90.560 E0.02939
G1 X108.423 Y89.876 E0.02939
G1 X107.761 Y89.212 E0.02939
G1 X107.079 Y88.570 E0.02939
G1 X106.376 Y87.950 E0.02939
G1 X105.653 Y87.352 E0.02939
G1 X104.912 Y86.778 E0.02939
G1 X104.153 Y86.228 E0.02939
G1 X103.377 Y85.702 E0.02939
G1 X102.585 Y85.202 E0.02939
G1 X101.777 Y84.726 E0.02939
G1 X100.954 Y84.277 E0.02939
G1 X100.117 Y83.854 E0.02939
G1 X99.267 Y83.458 E0.02939
G1 X98.406 Y83.090 E0.02939
G1 X97.532 Y82.749 E0.02939
G1 X96.649 Y82.436 E0.02939
G1 X95.756 Y82.151 E0.02939
G1 X94.854 Y81.895 E0.02939
G1 X93.944 Y81.668 E0.02939
G1 X93.028 Y81.470 E0.02939
G1 X92.106 Y81.301 E0.02939
G1 X91.179 Y81.162 E0.02939
G1 X90.248 Y81.052 E0.02939
G1 X89.314 Y80.972 E0.02939
G1 X88.378 Y80.922 E0.02939
G1 X87.441 Y80.902 E0.02939
G1 X86.503 Y80.911 E0.02939
G1 X85.567 Y80.951 E0.02939
G1 X84.632 Y81.020 E0.02939
G1 X83.700 Y81.119 E0.02939
G1 X82.771 Y81.248 E0.02939
G1 X81.847 Y81.406 E0.02939
G1 X80.929 Y81.594 E0.02939
G1 X80.017 Y81.811 E0.02939
G1 X79.112 Y82.056 E0.02939
G1 X78.216 Y82.331 E0.02939
G1 X77.329 Y82.634 E0.02939
G1 X76.452 Y82.965 E0.02939
G1 X75.586 Y83.323 E0.02939
G1 X74.731 Y83.710 E0.02939
G1 X73.890 Y84.123 E0.02939
G1 X73.062 Y84.563 E0.02939
G1 X72.249 Y85.029 E0.02939
G1 X71.451 Y85.520 E0.02939
G1 X70.668 Y86.038 E0.02942
G1 X68.920 Y87.300 E0.06760
"""

data_table3 = """
G1 X81.002 Y78.592 E0.22491
G1 X82.016 Y78.189 E0.00883
G1 X82.956 Y77.845 E0.00810
G1 X84.072 Y77.468 E0.00953
G1 X85.114 Y77.150 E0.00881
G1 X86.079 Y76.884 E0.00810
G1 X87.223 Y76.600 E0.00953
G1 X88.287 Y76.369 E0.00881
G1 X89.358 Y76.166 E0.00882
G1 X90.433 Y75.994 E0.00882
G1 X91.513 Y75.850 E0.00882
G1 X92.597 Y75.736 E0.00882
G1 X93.683 Y75.652 E0.00882
G1 X94.771 Y75.598 E0.00882
G1 X95.861 Y75.574 E0.00882
G1 X96.862 Y75.578 E0.00810
G1 X98.039 Y75.614 E0.00953
G1 X99.127 Y75.679 E0.00881
G1 X100.212 Y75.774 E0.00882
G1 X101.294 Y75.898 E0.00882
G1 X102.373 Y76.052 E0.00882
G1 X103.447 Y76.235 E0.00882
G1 X104.515 Y76.448 E0.00882
G1 X105.578 Y76.690 E0.00882
G1 X106.633 Y76.961 E0.00882
G1 X107.680 Y77.260 E0.00882
G1 X108.635 Y77.562 E0.00810
G1 X109.749 Y77.945 E0.00953
G1 X110.768 Y78.330 E0.00881
G1 X111.777 Y78.742 E0.00882
G1 X112.773 Y79.182 E0.00882
G1 X113.758 Y79.649 E0.00882
G1 X114.729 Y80.142 E0.00882
G1 X115.686 Y80.663 E0.00882
G1 X116.629 Y81.209 E0.00882
G1 X117.557 Y81.780 E0.00882
G1 X118.468 Y82.377 E0.00882
G1 X119.363 Y82.999 E0.00882
G1 X120.240 Y83.645 E0.00882
G1 X121.098 Y84.313 E0.00880
G1 X121.366 Y84.545 E0.00287
G1 X121.615 Y84.794 E0.00285
G1 X122.038 Y85.320 E0.00546
G1 X122.244 Y85.642 E0.00309
G1 X122.410 Y85.952 E0.00285
G1 X122.553 Y86.274 E0.00285
G1 X122.672 Y86.605 E0.00285
G1 X122.767 Y86.945 E0.00285
G1 X122.836 Y87.290 E0.00285
G1 X122.880 Y87.643 E0.00288
G1 X123.833 Y98.491 E0.08811
G1 X123.846 Y98.800 E0.00251
G1 X123.830 Y99.105 E0.00247
G1 X123.787 Y99.407 E0.00247
G1 X123.715 Y99.704 E0.00247
G1 X123.617 Y99.992 E0.00247
G1 X123.492 Y100.271 E0.00247
G1 X123.342 Y100.537 E0.00247
G1 X123.168 Y100.788 E0.00247
G1 X122.972 Y101.021 E0.00247
G1 X122.755 Y101.236 E0.00247
G1 X122.519 Y101.429 E0.00247
G1 X122.266 Y101.600 E0.00247
G1 X121.999 Y101.747 E0.00247
G1 X121.719 Y101.869 E0.00247
G1 X121.429 Y101.964 E0.00247
G1 X121.131 Y102.032 E0.00247
G1 X120.854 Y102.068 E0.00226
G1 X120.523 Y102.084 E0.00268
G1 X120.219 Y102.068 E0.00246
G1 X119.917 Y102.023 E0.00247
G1 X119.621 Y101.951 E0.00247
G1 X119.332 Y101.852 E0.00247
G1 X119.054 Y101.727 E0.00247
G1 X118.788 Y101.577 E0.00247
G1 X118.538 Y101.402 E0.00247
G1 X118.304 Y101.205 E0.00247
G1 X118.090 Y100.988 E0.00247
G1 X117.897 Y100.752 E0.00247
G1 X117.724 Y100.495 E0.00251
G1 X116.167 Y97.934 E0.02425
G1 X115.672 Y97.148 E0.00752
G1 X115.151 Y96.377 E0.00753
G1 X114.605 Y95.623 E0.00753
G1 X114.082 Y94.946 E0.00692
G1 X113.444 Y94.168 E0.00814
G1 X112.829 Y93.470 E0.00753
G1 X112.192 Y92.791 E0.00753
G1 X111.534 Y92.133 E0.00753
G1 X110.855 Y91.496 E0.00753
G1 X110.156 Y90.881 E0.00753
G1 X109.438 Y90.289 E0.00753
G1 X108.702 Y89.720 E0.00753
G1 X107.948 Y89.175 E0.00753
G1 X107.176 Y88.654 E0.00753
G1 X106.389 Y88.157 E0.00753
G1 X105.586 Y87.687 E0.00753
G1 X104.769 Y87.242 E0.00753
G1 X103.937 Y86.823 E0.00753
G1 X103.093 Y86.431 E0.00753
G1 X102.237 Y86.066 E0.00753
G1 X101.370 Y85.729 E0.00753
G1 X100.492 Y85.419 E0.00753
G1 X99.605 Y85.138 E0.00753
G1 X98.709 Y84.885 E0.00753
G1 X97.806 Y84.660 E0.00753
G1 X96.896 Y84.465 E0.00753
G1 X95.980 Y84.298 E0.00753
G1 X95.060 Y84.161 E0.00753
G1 X94.135 Y84.054 E0.00753
G1 X93.208 Y83.975 E0.00753
G1 X92.278 Y83.927 E0.00753
G1 X91.348 Y83.908 E0.00753
G1 X90.417 Y83.919 E0.00753
G1 X89.487 Y83.959 E0.00753
G1 X88.559 Y84.029 E0.00753
G1 X87.634 Y84.128 E0.00753
G1 X86.712 Y84.257 E0.00753
G1 X85.795 Y84.416 E0.00753
G1 X84.883 Y84.603 E0.00753
G1 X83.978 Y84.820 E0.00753
G1 X83.080 Y85.065 E0.00753
G1 X82.190 Y85.338 E0.00753
G1 X81.310 Y85.640 E0.00753
G1 X80.440 Y85.970 E0.00753
G1 X79.580 Y86.327 E0.00753
G1 X78.733 Y86.712 E0.00753
G1 X77.898 Y87.123 E0.00753
G1 X77.076 Y87.561 E0.00753
G1 X76.269 Y88.025 E0.00753
G1 X75.478 Y88.514 E0.00753
G1 X74.702 Y89.028 E0.00753
G1 X73.943 Y89.567 E0.00753
G1 X73.201 Y90.129 E0.00753
G1 X72.478 Y90.715 E0.00753
G1 X71.774 Y91.324 E0.00753
G1 X71.090 Y91.954 E0.00753
G1 X70.426 Y92.607 E0.00753
G1 X69.782 Y93.281 E0.00754
G1 X68.247 Y95.028 E0.01882
G1 X66.685 Y94.777 E0.01281
G1 X66.563 Y94.487 E0.00255
G1 X66.367 Y94.101 E0.00350
G1 X66.145 Y93.729 E0.00350
G1 X65.898 Y93.374 E0.00350
G1 X65.626 Y93.037 E0.00350
G1 X65.332 Y92.720 E0.00350
G1 X65.016 Y92.424 E0.00350
G1 X64.681 Y92.151 E0.00350
G1 X64.327 Y91.902 E0.00350
G1 X63.956 Y91.678 E0.00350
G1 X63.571 Y91.480 E0.00350
G1 X63.173 Y91.310 E0.00350
G1 X62.764 Y91.168 E0.00350
G1 X62.347 Y91.055 E0.00350
G1 X61.922 Y90.972 E0.00350
G1 X61.493 Y90.918 E0.00350
G1 X61.061 Y90.894 E0.00350
G1 X60.628 Y90.901 E0.00350
G1 X60.231 Y90.934 E0.00322
G1 X59.770 Y91.004 E0.00378
G1 X59.347 Y91.100 E0.00351
G1 X58.933 Y91.226 E0.00350
G1 X58.529 Y91.380 E0.00350
G1 X58.136 Y91.562 E0.00350
G1 X57.757 Y91.771 E0.00350
G1 X57.393 Y92.006 E0.00350
G1 X57.047 Y92.265 E0.00350
G1 X56.720 Y92.548 E0.00350
G1 X56.413 Y92.853 E0.00350
G1 X56.206 Y93.091 E0.00255
G1 X54.732 Y92.853 E0.01208
G1 X55.308 Y89.271 E0.02936
"""

# Split the data into lines
lines = data_table3.strip().split('\n')

gcode_list = []
x_values = []
y_values = []

# Process each line
for line in lines:
    command, params = line.split(' ', 1)
    params_dict = {}

    # Split params into key-value pairs
    for p in params.split(' '):
        key = p[0]
        value = float(p[1:])
        params_dict[key] = value

    # Extracting X and Y coordinates and E parameter
    x_coord = params_dict.get('X')
    x_values.append(x_coord)
    y_coord = params_dict.get('Y')
    y_values.append(y_coord)

    #print(f"X-coordinate: {x_coord}, Y-coordinate: {y_coord}")

# Adjust X and Y to have zero crossing in the middle of the values
xmin = min(x_values)
xmax = max(x_values)
ymin = min(y_values)
ymax = max(y_values)

dx = xmax-xmin  # dx er lengste aksen når modellen ligger langs med x-aksen.
dy = ymax-ymin

for i in range(len(x_values)):
    x = x_values[i]
    x = x - xmin - dx/2
    x_values[i] = x

    y = y_values[i]
    y = y - ymin - dy/2
    y_values[i] = y

# Oppdaterer min/max verdier
xmin = min(x_values)
xmax = max(x_values)
ymin = min(y_values)
ymax = max(y_values)

dx = xmax-xmin  # dx er lengste aksen når modellen ligger langs med x-aksen.
dy = ymax-ymin

# Lager streng til tekstfil.
s = ""
for i in range(len(x_values)):
    x = x_values[i]
    y = y_values[i]
    s += f"new THREE.Vector2({x:.2f},{y:.2f}), \n"

print(s)
with open("gcode.txt","w") as file:
    file.write(s)

print(f"dx={dx}, dy={dy}")

"""
new THREE.Vector2(-1.88,-0.51), 
new THREE.Vector2(-1.80,-0.75), 
new THREE.Vector2(-1.69,-0.98), 
new THREE.Vector2(-1.55,-1.19), 
new THREE.Vector2(-1.38,-1.38), 
new THREE.Vector2(-1.19,-1.55), 
new THREE.Vector2(-0.98,-1.69), 
new THREE.Vector2(-0.75,-1.80), 
new THREE.Vector2(-0.50,-1.88), 
new THREE.Vector2(-0.25,-1.93), 
new THREE.Vector2(-0.02,-1.95), 
new THREE.Vector2(0.25,-1.93), 
new THREE.Vector2(0.50,-1.88), 
new THREE.Vector2(0.75,-1.80), 
new THREE.Vector2(0.98,-1.69), 
new THREE.Vector2(1.17,-1.56), 
new THREE.Vector2(1.38,-1.38), 
new THREE.Vector2(1.55,-1.19), 
new THREE.Vector2(1.69,-0.98), 
new THREE.Vector2(1.80,-0.75), 
new THREE.Vector2(1.88,-0.51), 
new THREE.Vector2(1.93,-0.27), 
new THREE.Vector2(1.95,-0.00), 
new THREE.Vector2(1.93,0.25), 
new THREE.Vector2(1.88,0.50), 
new THREE.Vector2(1.80,0.75), 
new THREE.Vector2(1.69,0.98), 
new THREE.Vector2(1.55,1.19), 
new THREE.Vector2(1.38,1.38), 
new THREE.Vector2(1.19,1.55), 
new THREE.Vector2(0.98,1.69), 
new THREE.Vector2(0.75,1.80), 
new THREE.Vector2(0.50,1.88), 
new THREE.Vector2(0.25,1.93), 
new THREE.Vector2(-0.00,1.95), 
new THREE.Vector2(-0.25,1.93), 
new THREE.Vector2(-0.50,1.88), 
new THREE.Vector2(-0.75,1.80), 
new THREE.Vector2(-0.98,1.69), 
new THREE.Vector2(-1.17,1.56), 
new THREE.Vector2(-1.38,1.38), 
new THREE.Vector2(-1.55,1.19), 
new THREE.Vector2(-1.68,0.99), 
new THREE.Vector2(-1.80,0.75), 
new THREE.Vector2(-1.88,0.50), 
new THREE.Vector2(-1.93,0.27), 
new THREE.Vector2(-1.95,-0.00), 
new THREE.Vector2(-1.94,-0.20), 

"""


